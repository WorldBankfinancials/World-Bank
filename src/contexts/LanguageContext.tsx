import React, { createContext, useContext, useState, useEffect } from 'react';

interface Language {
  code: string;
  name: string;
  flag: string;
}

interface LanguageContextType {
  currentLanguage: Language;
  setLanguage: (language: Language) => void;
  languages: Language[];
  t: (key: string) => string;
}

const languages: Language[] = [
  { code: 'en', name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
  { code: 'zh', name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' }
];

const translations: Record<string, Record<string, string>> = {
  en: {
    // Login Page
    'world_bank': 'WORLD BANK',
    'international_banking_solutions': 'International Banking Solutions',
    'sign_in': 'Sign In',
    'access_your_secure_banking_portal': 'Access your secure banking portal',
    'email_address': 'Email Address',
    'user_id_or_email': 'User ID or Email',
    'id_placeholder': 'Enter your ID or email',
    'password': 'Password',
    'login_failed': 'Login Failed',
    'login_successful': 'Login Successful',
    'welcome_back': 'Welcome back to World Bank',
    'invalid_pin': 'Invalid PIN. Please try again.',
    'verification_failed': 'Verification failed. Please try again.',
    'enter_pin': 'Enter PIN',
    'pin_verification': 'PIN Verification',
    'enter_4_digit_pin': 'Enter your 4-digit PIN to continue',
    'signing_in': 'Signing In...',
    'security_center': 'Security Center',
    'new_customer': 'New customer?',
    'create_account': 'Create Account',
    'enter_first_name': 'Enter your first name',
    'enter_last_name': 'Enter your last name',
    'registration_submitted': 'Registration Submitted',
    'admin_review_pending': 'Your registration is pending admin review',
    'admin_review_description': 'Your account will be activated after admin verification',
    'next_steps': 'Next Steps',
    'admin_review_process': 'Admin will review your information',
    
    // PIN Verification
    'pin_verification_required': 'PIN Verification Required',
    'enter_pin_complete_login': 'Enter your PIN to complete login',
    'security_pin': 'Security PIN',
    'verify_pin': 'Verify PIN',

    
    // Form Fields
    'enter_email': 'Enter your email address',
    'enter_phone': 'Enter your phone number',
    'enter_address': 'Enter your address',
    'enter_city': 'Enter your city',
    'enter_state': 'Enter your state/province',
    'enter_postal_code': 'Enter your postal code',
    'enter_profession': 'Enter your profession',
    'enter_id_number': 'Enter your ID number',
    'enter_password': 'Enter your password',
    
    // Countries
    'china': 'China',
    'united_states': 'United States',
    'united_kingdom': 'United Kingdom',
    'canada': 'Canada',
    'australia': 'Australia',
    'germany': 'Germany',
    'france': 'France',
    'japan': 'Japan',
    'other': 'Other',
    
    // Income Ranges
    'under_25k': 'Under $25,000',
    '25k_50k': '$25,000 - $50,000',
    '50k_75k': '$50,000 - $75,000',
    '75k_100k': '$75,000 - $100,000',
    '100k_150k': '$100,000 - $150,000',
    'over_150k': 'Over $150,000',
    
    // ID Types
    'national_id': 'National ID',
    'passport': 'Passport',
    'drivers_license': "Driver's License",
    'email_notification_sent': 'Email notification will be sent',
    'account_activation_follows': 'Account activation will follow',
    'return_to_login': 'Return to Login',
    'join_world_bank_today': 'Join World Bank Today',
    'personal_information': 'Personal Information',
    'privacy_policy': 'Privacy Policy',
    'contact_support': 'Contact Support',
    'copyright_notice': 'Â© 2024 World Bank Group. All rights reserved.',
    'secure_trusted_global': 'Secure â€¢ Trusted â€¢ Global',
    'licensed_regulated': 'Licensed & Regulated Financial Institution',
    'international_transfer_desc': 'Send money to 190+ countries worldwide',
    'domestic_transfer_desc': 'Transfer within your country instantly',
    'card_transfer_desc': 'Transfer to debit/credit cards globally',
    'mobile_money_desc': 'Mobile money transfers in 50+ countries',
    'first_name': 'First Name',
    'last_name': 'Last Name',
    'date_of_birth': 'Date of Birth',
    'contact_information': 'Contact Information',
    'phone_number': 'Phone Number',
    'address_information': 'Address Information',
    'street_address': 'Street Address',
    'city': 'City',
    'state_province': 'State/Province',
    'postal_code': 'Postal Code',
    'country': 'Country',
    'select_country': 'Select Country',
    'professional_information': 'Professional Information',
    'profession': 'Profession',
    'annual_income': 'Annual Income',
    'select_income_range': 'Select Income Range',
    'identification': 'Identification',
    'id_type': 'ID Type',
    'select_id_type': 'Select ID Type',
    'id_number': 'ID Number',
    'account_security': 'Account Security',
    'confirm_password': 'Confirm Password',
    'confirm_your_password': 'Confirm Your Password',
    'already_have_account': 'Already have an account?',
    'sign_in_here': 'Sign in here',
    
    // Basic UI
    'welcome': 'Welcome',
    'login': 'Login',
    'register': 'Register',
    'logout': 'Logout',
    'home': 'Home',
    'dashboard': 'Dashboard',
    'settings': 'Settings',
    'profile': 'Profile',
    'save': 'Save',
    'cancel': 'Cancel',
    'edit': 'Edit',
    'delete': 'Delete',
    'close': 'Close',
    'continue': 'Continue',
    'back': 'Back',
    'next': 'Next',
    'submit': 'Submit',
    'confirm': 'Confirm',
    'yes': 'Yes',
    'no': 'No',
    'loading': 'Loading...',
    'error': 'Error',
    'success': 'Success',
    'warning': 'Warning',
    'info': 'Information',
    'search': 'Search',
    'filter': 'Filter',
    'sort': 'Sort',
    'view': 'View',
    'download': 'Download',
    'upload': 'Upload',
    'copy': 'Copy',
    'paste': 'Paste',
    'cut': 'Cut',
    'undo': 'Undo',
    'redo': 'Redo',
    'refresh': 'Refresh',
    'update': 'Update',
    'create': 'Create',
    'new': 'New',
    'open': 'Open',
    'select': 'Select',
    'choose': 'Choose',
    'browse': 'Browse',
    'clear': 'Clear',
    'reset': 'Reset',
    
    // Navigation
    'nav_home': 'Home',
    'nav_cards': 'Cards',
    'nav_transfer': 'Transfer',
    'nav_history': 'History',
    'nav_profile': 'Profile',
    
    // Account Preferences
    'account_preferences': 'Account Preferences',
    'manage_account_settings': 'Manage your account settings and preferences',
    'notification_preferences': 'Notification Preferences',
    'email_notifications': 'Email Notifications',
    'sms_notifications': 'SMS Notifications',
    'push_notifications': 'Push Notifications',
    'marketing_notifications': 'Marketing Communications',
    'privacy_settings': 'Privacy Settings',
    'share_data': 'Share Data with Partners',
    'two_factor_auth': 'Two-Factor Authentication',
    'display_preferences': 'Display Preferences',
    'preferred_currency': 'Preferred Currency',
    
    // PIN Management
    'change_transfer_pin': 'Change Transfer PIN',
    'pin_security_description': 'Manage your 4-digit transfer PIN for secure transactions',
    'current_pin': 'Current PIN',
    'enter_current_pin': 'Enter your current 4-digit PIN',
    'new_pin': 'New PIN',
    'enter_new_pin': 'Enter your new 4-digit PIN',
    'confirm_new_pin': 'Confirm New PIN',
    'pin_security_tips': 'PIN Security Tips',
    'pin_tip_1': 'Use a unique 4-digit combination',
    'pin_tip_2': 'Avoid sequential numbers (1234, 5678)',
    'pin_tip_3': 'Avoid repeated digits (1111, 2222)',
    'pin_tip_4': 'Keep your PIN confidential',
    'change_pin': 'Change PIN',
    'pin_too_short': 'PIN must be exactly 4 digits',
    'confirm_pin_change': 'Confirm PIN Change',
    'pin_change_confirmation_message': 'Are you sure you want to change your transfer PIN?',
    'confirm_change': 'Confirm Change',
    
    // Missing translations
    'personal_banking': 'Personal Banking',
    'investment_services': 'Investment Services', 
    'copyright': 'Copyright',
    'terms_of_service': 'Terms of Service',
    'my_cards': 'My Cards',
    'manage_cards': 'Manage your credit and debit cards',
    'add_card': 'Add Card',
    'view_details': 'View Details',
    'manage': 'Manage',
    'instant_payments': 'Instant Payments',
    'instant_payments_desc': 'Make instant payments worldwide',
    'secure_transactions': 'Secure Transactions',
    'secure_transactions_desc': 'Bank-grade security for all transactions',
    'mobile_wallet': 'Mobile Wallet',
    'mobile_wallet_desc': 'Use your phone for contactless payments',
    'hide_balances': 'Hide Balances',
    'show_balances': 'Show Balances',
    'lock_card': 'Lock Card',
    'unlock_card': 'Unlock Card',
    'mobile_pay': 'Mobile Pay',
    'pay_bill': 'Pay Bill',
    'card_locked': 'Card Locked',
    'card_unlocked': 'Card Unlocked',
    'card_locked_desc': 'Your card has been locked for security',
    'card_unlocked_desc': 'Your card has been unlocked successfully',
    'lock_card_desc': 'Enter your PIN to lock this card for security',
    'unlock_card_desc': 'Enter your PIN to unlock this card for transactions',
    'mobile_payment_sent': 'Mobile Payment Sent',
    'bill_payment_successful': 'Bill Payment Successful',
    'settings_updated': 'Settings Updated',
    'card_settings_updated': 'Your card settings have been updated successfully',
    'unlock': 'Unlock',
    'lock': 'Lock',
    'phone_number': 'Phone Number',
    'send_payment': 'Send Payment',
    'bill_provider': 'Bill Provider',
    'pay_now': 'Pay Now',
    'card_settings': 'Card Settings',
    'daily_spending_limit': 'Daily Spending Limit',
    'contactless_payments': 'Contactless Payments',
    'card_status': 'Card Status',
    'enabled': 'Enabled',
    'disabled': 'Disabled',
    'locked': 'Locked',
    'active': 'Active',
    'save_changes': 'Save Changes',
    'sent': 'Sent',
    'to': 'to',
    'paid': 'Paid',
    'payment_failed': 'Payment failed. Please try again.',
    'operation_failed': 'Operation failed. Please try again.',
    
    'language': 'Language',
    'theme': 'Theme',
    'security_settings': 'Security Settings',
    'session_timeout': 'Session Timeout (minutes)',
    'biometric_auth': 'Biometric Authentication',
    'auto_logout': 'Auto Logout',
    'save_preferences': 'Save Preferences',
    
    // Verification Center
    'verification_center': 'Verification Center',
    'manage_account_verification_status': 'Manage your account verification status and compliance requirements',
    'identity_verification': 'Identity Verification',
    'verify_government_id': 'Verify your government-issued ID',
    'email_verification': 'Email Verification',
    'confirm_email_address': 'Confirm your email address',
    'phone_verification': 'Phone Verification',
    'verify_phone_number': 'Verify your phone number',
    'address_verification': 'Address Verification',
    'confirm_residential_address': 'Confirm your residential address',
    'income_verification': 'Income Verification',
    'verify_income_employment': 'Verify your income and employment status',
    'enhanced_due_diligence': 'Enhanced Due Diligence',
    'additional_verification_high_value': 'Additional verification for high-value transactions',
    'biometric_verification': 'Biometric Verification',
    'fingerprint_facial_recognition': 'Fingerprint and facial recognition setup',
    'tax_compliance': 'Tax Compliance',
    'tax_residency_status': 'Tax residency status and compliance verification',
    'account_security_level': 'Account Security Level',
    'fully_verified': 'Fully Verified',
    'total_verifications': 'Total Verifications',
    'verified': 'Verified',
    'pending': 'Pending',
    'required': 'Required',
    'action_required': 'Action Required',
    'all_verifications': 'All Verifications',
    'submitted_documents': 'Submitted Documents',
    'last_updated': 'Last Updated',
    'upload_documents': 'Upload Documents',
    'under_review': 'Under Review',
    'upload_verification_documents': 'Upload Verification Documents',
    'drag_drop_files_here': 'Drag and drop files here',
    'or_click_to_browse': 'or click to browse',
    'select_files': 'Select Files',
    'accepted_formats': 'Accepted Formats',
    'max_file_size': 'Max File Size',
    
    // Banking
    'balance': 'Balance',
    'account': 'Account',
    'transaction': 'Transaction',
    'transfer': 'Transfer',
    'send_money': 'Send Money',
    'receive_money': 'Receive Money',
    'cards': 'Cards',
    'history': 'History',
    'statements': 'Statements',
    'deposits': 'Deposits',
    'withdrawals': 'Withdrawals',
    'payments': 'Payments',
    'bills': 'Bills',
    'loans': 'Loans',
    'services': 'Services',
    
    // Account Management
    'account_management': 'Account Management',
    'account_settings': 'Account Settings',
    'linked_accounts': 'Linked Accounts',
    
    // Banking Services
    'banking_services': 'Banking Services',
    'loans_credit': 'Loans & Credit',
    'foreign_exchange': 'Foreign Exchange',
    'business_banking': 'Business Banking',
    'wealth_management': 'Wealth Management',
    'international_banking': 'International Banking',
    'trade_finance': 'Trade Finance',
    'cash_management': 'Cash Management',
    
    // Investment & Wealth
    'investment_wealth': 'Investment & Wealth',
    'portfolio_management': 'Portfolio Management',
    'retirement_planning': 'Retirement Planning',
    'financial_advisory': 'Financial Advisory',
    'market_research': 'Market Research',
    'investment_products': 'Investment Products',
    
    // Digital Services
    'digital_services': 'Digital Services',
    'mobile_banking': 'Mobile Banking',
    'online_banking': 'Online Banking',
    'digital_wallet': 'Digital Wallet',
    'contactless_payments': 'Contactless Payments',
    'biometric_login': 'Biometric Login',
    
    // Support & Help
    'support_help': 'Support & Help',
    'customer_service': 'Customer Service',
    'live_chat': 'Live Chat',
    'help_center': 'Help Center',
    'faqs': 'FAQs',
    'contact_us': 'Contact Us',
    'feedback': 'Feedback',
    'complaints': 'Complaints',
    
    // Status
    'active': 'Active',
    'inactive': 'Inactive',
    'approved': 'Approved',
    'rejected': 'Rejected',
    
    // Transfer Process
    'verify_transfer_pin': 'Verify Transfer PIN',
    'enter_4_digit_pin_to_authorize': 'Enter your 4-digit PIN to authorize this transfer',
    'transfer_pin': 'Transfer PIN',
    'verify_and_continue': 'Verify & Continue',
    'processing_transfer': 'Processing Transfer',
    'please_wait_processing': 'Please wait while we process your transfer...',
    'transaction_id': 'Transaction ID',

    'transfer_failed_try_again': 'Transfer failed. Please try again.',
    'processing_your_transfer_request': 'Processing your transfer request...',
    'transfer_pending': 'Transfer Pending',
    'transfer_submitted_for_review': 'Your transfer has been submitted for review',
    'awaiting_processing': 'Awaiting Processing',
    'transfer_id': 'Transfer ID',
    'amount': 'Amount',
    'recipient': 'Recipient',
    'bank': 'Bank',
    'admin_will_review_shortly': 'Our team will review and process your transfer shortly.',
    'return_to_dashboard': 'Return to Dashboard',
    'processing': 'Processing',
    'failed': 'Failed',
    'completed': 'Completed',
    
    // Quick Actions
    'quick_actions': 'Quick Actions',
    'add_money': 'Add Money',
    'alerts': 'Alerts',
    'notifications': 'Notifications',
    
    // Transfer Types
    'international_transfer': 'International Transfer',
    'domestic_transfer': 'Domestic Transfer',
    'card_transfer': 'Card Transfer',
    'mobile_money': 'Mobile Money',
    'international_transfer_title': 'Send money worldwide with competitive rates',
    'domestic_transfer_title': 'Fast transfers within your country',
    'card_transfer_title': 'Transfer directly to debit/credit cards',
    'mobile_money_title': 'Send to mobile wallets in 190+ countries',
    'same_day': 'Same day',
    'instant': 'Instant',
    'minutes_to_hours': '1-3 hours',
    
    // User Profile (Dynamic - loaded from API)
    'mr_liu_wei': 'Liu Wei',
    'marine_engineer': 'Marine Engineer', 
    'oil_rig_company': 'Oil Rig Company',
    'online': 'Online',
    'authenticated': 'Authenticated',
    
    // Timing
    'today': 'Today',
    'yesterday': 'Yesterday',
    'this_week': 'This Week',
    'this_month': 'This Month',
    'last_month': 'Last Month',
    'this_year': 'This Year',
    'last_year': 'Last Year',
    
    // Common Actions
    'view_all': 'View All',
    'show_more': 'Show More',
    'show_less': 'Show Less',
    'learn_more': 'Learn More',
    'get_started': 'Get Started',
    'try_now': 'Try Now',
    'upgrade': 'Upgrade',
    'downgrade': 'Downgrade',
    'enable': 'Enable',
    'disable': 'Disable',
    'activate': 'Activate',
    'deactivate': 'Deactivate',
    'connect': 'Connect',
    'disconnect': 'Disconnect',
    'sync': 'Sync',
    'backup': 'Backup',
    'restore': 'Restore',
    'export': 'Export',
    'import': 'Import',
    'share': 'Share',
    'print': 'Print',
    'email': 'Email',
    'call': 'Call',
    'message': 'Message',
    'chat': 'Chat',
    'help': 'Help',
    'support': 'Support',
    'contact': 'Contact',
    'about': 'About',
    'terms': 'Terms',
    'privacy': 'Privacy',
    'legal': 'Legal',
    'cookies': 'Cookies',
    
    // Missing Dashboard Translations
    'account_number': 'Account Number',
    'account_id': 'Account ID',
    'total_balance': 'Total Balance',
    'my_accounts': 'My Accounts',
    'verified_account': 'Verified Account',
  },
  zh: {
    // Login Page
    'world_bank': 'ä¸–ç•Œé“¶è¡Œ',
    'international_banking_solutions': 'å›½é™…é“¶è¡Œè§£å†³æ–¹æ¡ˆ',
    'sign_in': 'ç™»å½•',
    'access_your_secure_banking_portal': 'è®¿é—®æ‚¨çš„å®‰å…¨é“¶è¡Œé—¨æˆ·',
    'email_address': 'é‚®ç®±åœ°å€',
    'user_id_or_email': 'ç”¨æˆ·IDæˆ–é‚®ç®±',
    'id_placeholder': 'è¾“å…¥æ‚¨çš„IDæˆ–é‚®ç®±',
    'password': 'å¯†ç ',
    'login_failed': 'ç™»å½•å¤±è´¥',
    'login_successful': 'ç™»å½•æˆåŠŸ',
    'welcome_back': 'æ¬¢è¿å›åˆ°ä¸–ç•Œé“¶è¡Œ',
    'invalid_pin': 'PINç æ— æ•ˆï¼Œè¯·é‡è¯•ã€‚',
    'verification_failed': 'éªŒè¯å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚',
    'enter_pin': 'è¾“å…¥PINç ',
    'pin_verification': 'PINç éªŒè¯',
    'enter_4_digit_pin': 'è¯·è¾“å…¥æ‚¨çš„4ä½PINç ä»¥ç»§ç»­',
    'signing_in': 'ç™»å½•ä¸­...',
    'security_center': 'å®‰å…¨ä¸­å¿ƒ',
    'new_customer': 'æ–°å®¢æˆ·ï¼Ÿ',
    'create_account': 'åˆ›å»ºè´¦æˆ·',
    'enter_first_name': 'è¾“å…¥æ‚¨çš„åå­—',
    'enter_last_name': 'è¾“å…¥æ‚¨çš„å§“æ°',
    'registration_submitted': 'æ³¨å†Œå·²æäº¤',
    'admin_review_pending': 'æ‚¨çš„æ³¨å†Œæ­£åœ¨ç­‰å¾…ç®¡ç†å‘˜å®¡æ ¸',
    'admin_review_description': 'ç®¡ç†å‘˜éªŒè¯åå°†æ¿€æ´»æ‚¨çš„è´¦æˆ·',
    'next_steps': 'ä¸‹ä¸€æ­¥',
    'admin_review_process': 'ç®¡ç†å‘˜å°†å®¡æ ¸æ‚¨çš„ä¿¡æ¯',
    
    // PIN Verification
    'pin_verification_required': 'éœ€è¦PINéªŒè¯',
    'enter_pin_complete_login': 'è¾“å…¥æ‚¨çš„PINç å®Œæˆç™»å½•',
    'security_pin': 'å®‰å…¨PINç ',
    'verify_pin': 'éªŒè¯PIN',

    
    // Form Fields
    'enter_email': 'è¾“å…¥æ‚¨çš„é‚®ç®±åœ°å€',
    'enter_phone': 'è¾“å…¥æ‚¨çš„ç”µè¯å·ç ',
    'enter_address': 'è¾“å…¥æ‚¨çš„åœ°å€',
    'enter_city': 'è¾“å…¥æ‚¨çš„åŸå¸‚',
    'enter_state': 'è¾“å…¥æ‚¨çš„çœ/å·',
    'enter_postal_code': 'è¾“å…¥æ‚¨çš„é‚®æ”¿ç¼–ç ',
    'enter_profession': 'è¾“å…¥æ‚¨çš„èŒä¸š',
    'enter_id_number': 'è¾“å…¥æ‚¨çš„èº«ä»½è¯å·',
    'enter_password': 'è¾“å…¥æ‚¨çš„å¯†ç ',
    
    // Countries
    'china': 'ä¸­å›½',
    'united_states': 'ç¾å›½',
    'united_kingdom': 'è‹±å›½',
    'canada': 'åŠ æ‹¿å¤§',
    'australia': 'æ¾³å¤§åˆ©äºš',
    'germany': 'å¾·å›½',
    'france': 'æ³•å›½',
    'japan': 'æ—¥æœ¬',
    'other': 'å…¶ä»–',
    
    // Income Ranges
    'under_25k': '25,000ç¾å…ƒä»¥ä¸‹',
    '25k_50k': '25,000 - 50,000ç¾å…ƒ',
    '50k_75k': '50,000 - 75,000ç¾å…ƒ',
    '75k_100k': '75,000 - 100,000ç¾å…ƒ',
    '100k_150k': '100,000 - 150,000ç¾å…ƒ',
    'over_150k': '150,000ç¾å…ƒä»¥ä¸Š',
    
    // ID Types
    'national_id': 'èº«ä»½è¯',
    'passport': 'æŠ¤ç…§',
    'drivers_license': 'é©¾é©¶è¯',
    'email_notification_sent': 'å°†å‘é€é‚®ä»¶é€šçŸ¥',
    'account_activation_follows': 'éšåå°†æ¿€æ´»è´¦æˆ·',
    'return_to_login': 'è¿”å›ç™»å½•',
    'join_world_bank_today': 'ç«‹å³åŠ å…¥ä¸–ç•Œé“¶è¡Œ',
    'personal_information': 'ä¸ªäººä¿¡æ¯',
    'privacy_policy': 'éšç§æ”¿ç­–',
    'contact_support': 'è”ç³»æ”¯æŒ',
    'copyright_notice': 'Â© 2024 ä¸–ç•Œé“¶è¡Œé›†å›¢ã€‚ç‰ˆæƒæ‰€æœ‰ã€‚',
    'secure_trusted_global': 'å®‰å…¨ â€¢ å¯ä¿¡ â€¢ å…¨çƒ',
    'licensed_regulated': 'æŒç‰Œç›‘ç®¡é‡‘èæœºæ„',
    'international_transfer_desc': 'å‘å…¨çƒ190+å›½å®¶æ±‡æ¬¾',
    'domestic_transfer_desc': 'å›½å†…å³æ—¶è½¬è´¦',
    'card_transfer_desc': 'å…¨çƒå€Ÿè®°å¡/ä¿¡ç”¨å¡è½¬è´¦',
    'mobile_money_desc': '50+å›½å®¶ç§»åŠ¨é’±åŒ…è½¬è´¦',
    'phone_number': 'ç”µè¯å·ç ',
    'address_information': 'åœ°å€ä¿¡æ¯',
    'street_address': 'è¡—é“åœ°å€',
    'city': 'åŸå¸‚',
    'state_province': 'å·/çœ',
    'postal_code': 'é‚®æ”¿ç¼–ç ',
    'country': 'å›½å®¶',
    'select_country': 'é€‰æ‹©å›½å®¶',
    'professional_information': 'èŒä¸šä¿¡æ¯',
    'profession': 'èŒä¸š',
    'annual_income': 'å¹´æ”¶å…¥',
    'select_income_range': 'é€‰æ‹©æ”¶å…¥èŒƒå›´',
    'identification': 'èº«ä»½è¯æ˜',
    'id_type': 'è¯ä»¶ç±»å‹',
    'select_id_type': 'é€‰æ‹©è¯ä»¶ç±»å‹',
    'id_number': 'è¯ä»¶å·ç ',
    'account_security': 'è´¦æˆ·å®‰å…¨',
    'confirm_password': 'ç¡®è®¤å¯†ç ',
    'confirm_your_password': 'ç¡®è®¤æ‚¨çš„å¯†ç ',
    'already_have_account': 'å·²æœ‰è´¦æˆ·ï¼Ÿ',
    'sign_in_here': 'ç‚¹å‡»ç™»å½•',
    
    // Basic UI
    'welcome': 'æ¬¢è¿',
    'login': 'ç™»å½•',
    'register': 'æ³¨å†Œ',
    'logout': 'ç™»å‡º',
    'home': 'é¦–é¡µ',
    'dashboard': 'ä»ªè¡¨æ¿',
    'settings': 'è®¾ç½®',
    'profile': 'ä¸ªäººèµ„æ–™',
    'save': 'ä¿å­˜',
    'cancel': 'å–æ¶ˆ',
    'edit': 'ç¼–è¾‘',
    'delete': 'åˆ é™¤',
    'close': 'å…³é—­',
    'continue': 'ç»§ç»­',
    'back': 'è¿”å›',
    'next': 'ä¸‹ä¸€æ­¥',
    'submit': 'æäº¤',
    'confirm': 'ç¡®è®¤',
    'yes': 'æ˜¯',
    'no': 'å¦',
    'loading': 'åŠ è½½ä¸­...',
    'error': 'é”™è¯¯',
    'success': 'æˆåŠŸ',
    'warning': 'è­¦å‘Š',
    'info': 'ä¿¡æ¯',
    'search': 'æœç´¢',
    'filter': 'ç­›é€‰',
    'sort': 'æ’åº',
    'view': 'æŸ¥çœ‹',
    'download': 'ä¸‹è½½',
    'upload': 'ä¸Šä¼ ',
    'copy': 'å¤åˆ¶',
    'paste': 'ç²˜è´´',
    'cut': 'å‰ªåˆ‡',
    'undo': 'æ’¤é”€',
    'redo': 'é‡åš',
    'refresh': 'åˆ·æ–°',
    'update': 'æ›´æ–°',
    'create': 'åˆ›å»º',
    'new': 'æ–°å»º',
    'open': 'æ‰“å¼€',
    'select': 'é€‰æ‹©',
    'choose': 'é€‰æ‹©',
    'browse': 'æµè§ˆ',
    'clear': 'æ¸…é™¤',
    'reset': 'é‡ç½®',
    
    // Navigation
    'nav_home': 'é¦–é¡µ',
    'nav_cards': 'å¡ç‰‡',
    'nav_transfer': 'è½¬è´¦',
    'nav_history': 'å†å²',
    'nav_profile': 'ä¸ªäºº',
    
    // Account Preferences
    'account_preferences': 'è´¦æˆ·åå¥½è®¾ç½®',
    'manage_account_settings': 'ç®¡ç†æ‚¨çš„è´¦æˆ·è®¾ç½®å’Œåå¥½',
    'notification_preferences': 'é€šçŸ¥åå¥½',
    'email_notifications': 'é‚®ä»¶é€šçŸ¥',
    'sms_notifications': 'çŸ­ä¿¡é€šçŸ¥',
    'push_notifications': 'æ¨é€é€šçŸ¥',
    'marketing_notifications': 'è¥é”€æ¨å¹¿',
    'privacy_settings': 'éšç§è®¾ç½®',
    'share_data': 'ä¸åˆä½œä¼™ä¼´å…±äº«æ•°æ®',
    'two_factor_auth': 'åŒé‡èº«ä»½éªŒè¯',
    'display_preferences': 'æ˜¾ç¤ºåå¥½',
    'preferred_currency': 'é¦–é€‰è´§å¸',
    'language': 'è¯­è¨€',
    'theme': 'ä¸»é¢˜',
    'security_settings': 'å®‰å…¨è®¾ç½®',
    'session_timeout': 'ä¼šè¯è¶…æ—¶ï¼ˆåˆ†é’Ÿï¼‰',
    'biometric_auth': 'ç”Ÿç‰©è¯†åˆ«è®¤è¯',
    'auto_logout': 'è‡ªåŠ¨ç™»å‡º',
    'save_preferences': 'ä¿å­˜åå¥½è®¾ç½®',
    
    // Verification Center
    'verification_center': 'éªŒè¯ä¸­å¿ƒ',
    'manage_account_verification_status': 'ç®¡ç†æ‚¨çš„è´¦æˆ·éªŒè¯çŠ¶æ€å’Œåˆè§„è¦æ±‚',
    'identity_verification': 'èº«ä»½éªŒè¯',
    'verify_government_id': 'éªŒè¯æ‚¨çš„æ”¿åºœé¢å‘èº«ä»½è¯ä»¶',
    'email_verification': 'é‚®ç®±éªŒè¯',
    'confirm_email_address': 'ç¡®è®¤æ‚¨çš„é‚®ç®±åœ°å€',
    'phone_verification': 'æ‰‹æœºéªŒè¯',
    'verify_phone_number': 'éªŒè¯æ‚¨çš„æ‰‹æœºå·ç ',
    'address_verification': 'åœ°å€éªŒè¯',
    'confirm_residential_address': 'ç¡®è®¤æ‚¨çš„å±…ä½åœ°å€',
    'income_verification': 'æ”¶å…¥éªŒè¯',
    'verify_income_employment': 'éªŒè¯æ‚¨çš„æ”¶å…¥å’Œå°±ä¸šçŠ¶æ€',
    'enhanced_due_diligence': 'å¢å¼ºå°½èŒè°ƒæŸ¥',
    'additional_verification_high_value': 'é«˜ä»·å€¼äº¤æ˜“çš„é¢å¤–éªŒè¯',
    'biometric_verification': 'ç”Ÿç‰©è¯†åˆ«éªŒè¯',
    'fingerprint_facial_recognition': 'æŒ‡çº¹å’Œé¢éƒ¨è¯†åˆ«è®¾ç½®',
    'tax_compliance': 'ç¨åŠ¡åˆè§„',
    'tax_residency_status': 'ç¨åŠ¡å±…ä½çŠ¶æ€å’Œåˆè§„éªŒè¯',
    'account_security_level': 'è´¦æˆ·å®‰å…¨çº§åˆ«',
    'fully_verified': 'å®Œå…¨éªŒè¯',
    'total_verifications': 'æ€»éªŒè¯é¡¹ç›®',
    'verified': 'å·²éªŒè¯',
    'pending': 'å¾…å¤„ç†',
    'required': 'å¿…éœ€',
    'action_required': 'éœ€è¦æ“ä½œ',
    'all_verifications': 'æ‰€æœ‰éªŒè¯',
    'submitted_documents': 'å·²æäº¤æ–‡ä»¶',
    'last_updated': 'æœ€åæ›´æ–°',
    'upload_documents': 'ä¸Šä¼ æ–‡ä»¶',
    'under_review': 'å®¡æ ¸ä¸­',
    'upload_verification_documents': 'ä¸Šä¼ éªŒè¯æ–‡ä»¶',
    'drag_drop_files_here': 'æ‹–æ‹½æ–‡ä»¶åˆ°è¿™é‡Œ',
    'or_click_to_browse': 'æˆ–ç‚¹å‡»æµè§ˆ',
    'select_files': 'é€‰æ‹©æ–‡ä»¶',
    'accepted_formats': 'æ¥å—çš„æ ¼å¼',
    'max_file_size': 'æœ€å¤§æ–‡ä»¶å¤§å°',
    
    // Banking
    'balance': 'ä½™é¢',
    'account': 'è´¦æˆ·',
    'transaction': 'äº¤æ˜“',
    'transfer': 'è½¬è´¦',
    'send_money': 'å‘é€èµ„é‡‘',
    'receive_money': 'æ¥æ”¶èµ„é‡‘',
    'cards': 'å¡ç‰‡',
    'history': 'å†å²è®°å½•',
    'statements': 'å¯¹è´¦å•',
    'deposits': 'å­˜æ¬¾',
    'withdrawals': 'å–æ¬¾',
    'payments': 'ä»˜æ¬¾',
    'bills': 'è´¦å•',
    'loans': 'è´·æ¬¾',
    'investments': 'æŠ•èµ„',
    'insurance': 'ä¿é™©',
    'services': 'æœåŠ¡',
    
    // Account Management
    'account_management': 'è´¦æˆ·ç®¡ç†',
    'account_settings': 'è´¦æˆ·è®¾ç½®',
    'linked_accounts': 'å…³è”è´¦æˆ·',
    
    // Banking Services
    'banking_services': 'é“¶è¡ŒæœåŠ¡',
    'loans_credit': 'è´·æ¬¾ä¸ä¿¡è´·',
    'foreign_exchange': 'å¤–æ±‡',
    'business_banking': 'ä¼ä¸šé“¶è¡Œ',
    'wealth_management': 'è´¢å¯Œç®¡ç†',
    'international_banking': 'å›½é™…é“¶è¡Œ',
    'trade_finance': 'è´¸æ˜“é‡‘è',
    'cash_management': 'ç°é‡‘ç®¡ç†',
    
    // Investment & Wealth
    'investment_wealth': 'æŠ•èµ„ä¸è´¢å¯Œ',
    'portfolio_management': 'æŠ•èµ„ç»„åˆç®¡ç†',
    'retirement_planning': 'é€€ä¼‘è§„åˆ’',
    'financial_advisory': 'è´¢åŠ¡å’¨è¯¢',
    'market_research': 'å¸‚åœºç ”ç©¶',
    'investment_products': 'æŠ•èµ„äº§å“',
    
    // Digital Services
    'digital_services': 'æ•°å­—æœåŠ¡',
    'mobile_banking': 'æ‰‹æœºé“¶è¡Œ',
    'online_banking': 'ç½‘ä¸Šé“¶è¡Œ',
    'digital_wallet': 'æ•°å­—é’±åŒ…',
    'contactless_payments': 'éæ¥è§¦å¼æ”¯ä»˜',
    'biometric_login': 'ç”Ÿç‰©è¯†åˆ«ç™»å½•',
    
    // Support & Help
    'support_help': 'æ”¯æŒä¸å¸®åŠ©',
    'customer_service': 'å®¢æˆ·æœåŠ¡',
    'live_chat': 'åœ¨çº¿èŠå¤©',
    'help_center': 'å¸®åŠ©ä¸­å¿ƒ',
    'faqs': 'å¸¸è§é—®é¢˜',
    'contact_us': 'è”ç³»æˆ‘ä»¬',
    'feedback': 'åé¦ˆ',
    'complaints': 'æŠ•è¯‰',
    
    // Status
    'active': 'æ´»è·ƒ',
    'inactive': 'éæ´»è·ƒ',
    'approved': 'å·²æ‰¹å‡†',
    'rejected': 'å·²æ‹’ç»',
    'processing': 'å¤„ç†ä¸­',
    'failed': 'å¤±è´¥',
    'completed': 'å·²å®Œæˆ',
    'complete': 'å®Œæˆ',
    
    // Transfer Process
    'enter_transfer_pin_to_continue': 'è¯·è¾“å…¥è½¬è´¦PINç ä»¥ç»§ç»­',
    'transfer_details': 'è½¬è´¦è¯¦æƒ…',
    'transfer_pin': 'è½¬è´¦PIN',
    'verify_and_continue': 'éªŒè¯å¹¶ç»§ç»­',
    'processing_transfer': 'æ­£åœ¨å¤„ç†è½¬è´¦',
    'please_wait_processing': 'è¯·ç¨å€™ï¼Œæˆ‘ä»¬æ­£åœ¨å¤„ç†æ‚¨çš„è½¬è´¦...',
    'transaction_id': 'äº¤æ˜“ç¼–å·',
    'transfer_submitted': 'è½¬è´¦å·²æäº¤',
    'transfer_being_processed': 'æ‚¨çš„è½¬è´¦æ­£åœ¨å¤„ç†ä¸­',
    'transfer_details_verified': 'è½¬è´¦è¯¦æƒ…å·²éªŒè¯',
    'pin_authenticated': 'PINéªŒè¯æˆåŠŸ',
    'awaiting_final_processing': 'ç­‰å¾…æœ€ç»ˆå¤„ç†',
    'processing_time_notice': 'å›½é™…è½¬è´¦å¯èƒ½éœ€è¦1-3ä¸ªå·¥ä½œæ—¥',
    'return_to_dashboard': 'è¿”å›ä»ªè¡¨æ¿',
    'verify': 'éªŒè¯',
    'process': 'å¤„ç†',
    
    // Quick Actions
    'quick_actions': 'å¿«é€Ÿæ“ä½œ',
    'add_money': 'å……å€¼',
    'alerts': 'æé†’',
    'notifications': 'é€šçŸ¥',
    
    // Transfer Types
    'international_transfer': 'å›½é™…è½¬è´¦',
    'domestic_transfer': 'å›½å†…è½¬è´¦',
    'card_transfer': 'é“¶è¡Œå¡è½¬è´¦',
    'mobile_money': 'æ‰‹æœºæ”¯ä»˜',
    'international_transfer_title': 'ä»¥ä¼˜æƒ æ±‡ç‡å‘å…¨çƒæ±‡æ¬¾',
    'domestic_transfer_title': 'å›½å†…å¿«é€Ÿè½¬è´¦',
    'card_transfer_title': 'ç›´æ¥è½¬è´¦è‡³å€Ÿè®°å¡/ä¿¡ç”¨å¡',
    'mobile_money_title': 'å‘é€è‡³190å¤šä¸ªå›½å®¶çš„æ‰‹æœºé’±åŒ…',
    'same_day': 'å½“æ—¥åˆ°è´¦',
    'instant': 'å³æ—¶åˆ°è´¦',
    'minutes_to_hours': '1-3å°æ—¶',
    
    // User Profile
    'mr_liu_wei': 'åˆ˜ä¼Ÿå…ˆç”Ÿ',
    'marine_engineer': 'æµ·æ´‹å·¥ç¨‹å¸ˆ',
    'oil_rig_company': 'çŸ³æ²¹é’»äº•å…¬å¸',
    'online': 'åœ¨çº¿',
    'authenticated': 'å·²è®¤è¯',
    
    // Timing
    'today': 'ä»Šå¤©',
    'yesterday': 'æ˜¨å¤©',
    'this_week': 'æœ¬å‘¨',
    'this_month': 'æœ¬æœˆ',
    'last_month': 'ä¸Šæœˆ',
    'this_year': 'ä»Šå¹´',
    'last_year': 'å»å¹´',
    
    // Common Actions
    'view_all': 'æŸ¥çœ‹å…¨éƒ¨',
    'show_more': 'æ˜¾ç¤ºæ›´å¤š',
    'show_less': 'æ˜¾ç¤ºæ›´å°‘',
    'learn_more': 'äº†è§£æ›´å¤š',
    'get_started': 'å¼€å§‹ä½¿ç”¨',
    'try_now': 'ç«‹å³å°è¯•',
    'upgrade': 'å‡çº§',
    'downgrade': 'é™çº§',
    'enable': 'å¯ç”¨',
    'disable': 'ç¦ç”¨',
    'activate': 'æ¿€æ´»',
    'deactivate': 'åœç”¨',
    'connect': 'è¿æ¥',
    'disconnect': 'æ–­å¼€',
    'sync': 'åŒæ­¥',
    'backup': 'å¤‡ä»½',
    'restore': 'æ¢å¤',
    'export': 'å¯¼å‡º',
    'import': 'å¯¼å…¥',
    'share': 'åˆ†äº«',
    'print': 'æ‰“å°',
    'email': 'é‚®ä»¶',
    'call': 'ç”µè¯',
    'message': 'ä¿¡æ¯',
    'chat': 'èŠå¤©',
    'help': 'å¸®åŠ©',
    'support': 'æ”¯æŒ',
    'contact': 'è”ç³»',
    'about': 'å…³äº',
    'terms': 'æ¡æ¬¾',
    'privacy': 'éšç§',
    'legal': 'æ³•å¾‹',
    'cookies': 'Cookie',
    
    // Missing Dashboard Translations
    'account_number': 'è´¦æˆ·å·ç ',
    'account_id': 'è´¦æˆ·ID',
    'total_balance': 'æ€»ä½™é¢',
    'my_accounts': 'æˆ‘çš„è´¦æˆ·',
    'verified_account': 'å·²éªŒè¯è´¦æˆ·',
    
    // PIN Management - Chinese
    'change_transfer_pin': 'æ›´æ”¹è½¬è´¦PINç ',
    'pin_security_description': 'ç®¡ç†æ‚¨çš„4ä½æ•°è½¬è´¦PINç ä»¥ç¡®ä¿äº¤æ˜“å®‰å…¨',
    'current_pin': 'å½“å‰PINç ',
    'enter_current_pin': 'è¾“å…¥æ‚¨å½“å‰çš„4ä½PINç ',
    'new_pin': 'æ–°PINç ',
    'enter_new_pin': 'è¾“å…¥æ‚¨çš„æ–°4ä½PINç ',
    'confirm_new_pin': 'ç¡®è®¤æ–°PINç ',
    'pin_security_tips': 'PINç å®‰å…¨æç¤º',
    'pin_tip_1': 'ä½¿ç”¨ç‹¬ç‰¹çš„4ä½æ•°å­—ç»„åˆ',
    'pin_tip_2': 'é¿å…è¿ç»­æ•°å­— (1234, 5678)',
    'pin_tip_3': 'é¿å…é‡å¤æ•°å­— (1111, 2222)',
    'pin_tip_4': 'ä¿æŒæ‚¨çš„PINç æœºå¯†',
    'change_pin': 'æ›´æ”¹PINç ',
    'pin_too_short': 'PINç å¿…é¡»æ˜¯4ä½æ•°å­—',
    'confirm_pin_change': 'ç¡®è®¤PINç æ›´æ”¹',
    'pin_change_confirmation_message': 'æ‚¨ç¡®å®šè¦æ›´æ”¹æ‚¨çš„è½¬è´¦PINç å—ï¼Ÿ',
    'confirm_change': 'ç¡®è®¤æ›´æ”¹',
    
    // Missing translations - Chinese
    'personal_banking': 'ä¸ªäººé“¶è¡Œ',
    'investment_services': 'æŠ•èµ„æœåŠ¡',
    'copyright': 'ç‰ˆæƒ',
    'terms_of_service': 'æœåŠ¡æ¡æ¬¾',
    'my_cards': 'æˆ‘çš„å¡ç‰‡',
    'manage_cards': 'ç®¡ç†æ‚¨çš„ä¿¡ç”¨å¡å’Œå€Ÿè®°å¡',
    'add_card': 'æ·»åŠ å¡ç‰‡',
    'view_details': 'æŸ¥çœ‹è¯¦æƒ…',
    'manage': 'ç®¡ç†',
    'instant_payments': 'å³æ—¶æ”¯ä»˜',
    'instant_payments_desc': 'å…¨çƒå³æ—¶æ”¯ä»˜',
    'secure_transactions': 'å®‰å…¨äº¤æ˜“',
    'secure_transactions_desc': 'é“¶è¡Œçº§äº¤æ˜“å®‰å…¨',
    'mobile_wallet': 'ç§»åŠ¨é’±åŒ…',
    'mobile_wallet_desc': 'ä½¿ç”¨æ‰‹æœºè¿›è¡Œéæ¥è§¦å¼æ”¯ä»˜',
    'hide_balances': 'éšè—ä½™é¢',
    'show_balances': 'æ˜¾ç¤ºä½™é¢',
    'lock_card': 'é”å®šå¡ç‰‡',
    'unlock_card': 'è§£é”å¡ç‰‡',
    'mobile_pay': 'æ‰‹æœºæ”¯ä»˜',
    'pay_bill': 'ç¼´è´¹',
    'card_locked': 'å¡ç‰‡å·²é”å®š',
    'card_unlocked': 'å¡ç‰‡å·²è§£é”',
    'card_locked_desc': 'æ‚¨çš„å¡ç‰‡å·²ä¸ºå®‰å…¨èµ·è§è¢«é”å®š',
    'card_unlocked_desc': 'æ‚¨çš„å¡ç‰‡å·²æˆåŠŸè§£é”',
    'lock_card_desc': 'è¾“å…¥æ‚¨çš„PINç ä»¥é”å®šæ­¤å¡ç‰‡',
    'unlock_card_desc': 'è¾“å…¥æ‚¨çš„PINç ä»¥è§£é”æ­¤å¡ç‰‡è¿›è¡Œäº¤æ˜“',
    'mobile_payment_sent': 'æ‰‹æœºæ”¯ä»˜å·²å‘é€',
    'bill_payment_successful': 'ç¼´è´¹æˆåŠŸ',
    'settings_updated': 'è®¾ç½®å·²æ›´æ–°',
    'card_settings_updated': 'æ‚¨çš„å¡ç‰‡è®¾ç½®å·²æˆåŠŸæ›´æ–°',
    'unlock': 'è§£é”',
    'lock': 'é”å®š',
    'phone_number': 'æ‰‹æœºå·ç ',
    'send_payment': 'å‘é€æ”¯ä»˜',
    'bill_provider': 'ç¼´è´¹æœºæ„',
    'pay_now': 'ç«‹å³æ”¯ä»˜',
    'card_settings': 'å¡ç‰‡è®¾ç½®',
    'daily_spending_limit': 'æ¯æ—¥æ¶ˆè´¹é™é¢',
    'contactless_payments': 'éæ¥è§¦å¼æ”¯ä»˜',
    'card_status': 'å¡ç‰‡çŠ¶æ€',
    'enabled': 'å·²å¯ç”¨',
    'disabled': 'å·²ç¦ç”¨',
    'locked': 'å·²é”å®š',
    'active': 'æ´»è·ƒ',
    'save_changes': 'ä¿å­˜æ›´æ”¹',
    'sent': 'å·²å‘é€',
    'to': 'åˆ°',
    'paid': 'å·²æ”¯ä»˜',
    'payment_failed': 'æ”¯ä»˜å¤±è´¥ã€‚è¯·é‡è¯•ã€‚',
    'operation_failed': 'æ“ä½œå¤±è´¥ã€‚è¯·é‡è¯•ã€‚',
    
    // Transfer Process
    'verify_transfer_pin': 'éªŒè¯è½¬è´¦PINç ',
    'enter_4_digit_pin_to_authorize': 'è¾“å…¥æ‚¨çš„4ä½PINç ä»¥æˆæƒæ­¤è½¬è´¦',

    'transfer_failed_try_again': 'è½¬è´¦å¤±è´¥ã€‚è¯·é‡è¯•ã€‚',
    'processing_your_transfer_request': 'æ­£åœ¨å¤„ç†æ‚¨çš„è½¬è´¦è¯·æ±‚...',
    'transfer_pending': 'è½¬è´¦å¾…å¤„ç†',
    'transfer_submitted_for_review': 'æ‚¨çš„è½¬è´¦å·²æäº¤å®¡æ ¸',
    'awaiting_processing': 'ç­‰å¾…å¤„ç†',
    'transfer_id': 'è½¬è´¦ID',
    'amount': 'é‡‘é¢',
    'recipient': 'æ”¶æ¬¾äºº',
    'bank': 'é“¶è¡Œ',
    'admin_will_review_shortly': 'æˆ‘ä»¬çš„å›¢é˜Ÿå°†å¾ˆå¿«å®¡æ ¸å¹¶å¤„ç†æ‚¨çš„è½¬è´¦ã€‚',
  }
};

const LanguageContext = createContext<LanguageContextType | null>(null);

export function LanguageProvider({ children }: { children: React.ReactNode }) {
  const [currentLanguage, setCurrentLanguage] = useState<Language>(languages[0]);

  useEffect(() => {
    const savedLanguage = localStorage.getItem('preferred-language');
    if (savedLanguage) {
      const language = languages.find(lang => lang.code === savedLanguage);
      if (language) {
        setCurrentLanguage(language);
      }
    }
  }, []);

  const setLanguage = (language: Language) => {
    setCurrentLanguage(language);
    localStorage.setItem('preferred-language', language.code);
  };

  const t = (key: string): string => {
    try {
      // Get current language code safely
      const langCode = currentLanguage?.code || 'en';
      
      // Get translations for current language with fallback to English
      const currentTranslations = translations[langCode] || translations['en'];
      
      if (!currentTranslations) {
        // console.warn(`No translations found for language: ${langCode}`);
        return key;
      }
      
      // Get translation with fallback to English if not found in current language
      let translation = currentTranslations[key];
      
      if (!translation && langCode !== 'en') {
        translation = translations['en']?.[key];
      }
      
      if (!translation) {
        // console.warn(`Missing translation for key: ${key} in both ${langCode} and English`);
        return key;
      }
      
      return translation;
    } catch (error) {
      // console.error(`Translation error for key: ${key}`, error);
      return key;
    }
  };

  return (
    <LanguageContext.Provider value={{ 
      currentLanguage, 
      setLanguage, 
      languages, 
      t 
    }}>
      {children}
    </LanguageContext.Provider>
  );
}

export function useLanguage() {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
}